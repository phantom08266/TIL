## JDBC 트랜잭션 처리
### 정의
두개 이상의 쿼리를 마치 한 개의 쿼리처럼 처리할 수 있도록 하는 기능

### 처리과정
트랜잭션이 시작되면 이후 실행되는 모든 쿼리가 바로 DBMS에 저장되는 것이 아니라, 
모든 쿼리가 실행되고 나서 **커밋**을 하게된다.<br>

**트랜잭션 커밋** : 트랜잭션 이후 쿼리들에서 에러가 발생하지 않으면 DB에 반영한다.<br>
**트랜잭션 롤백** : 트랜잭션 이후 쿼리들 수행 중 에러가 발생하면 DB에 반영하지 않고 취소한다.

### 트랜잭션 구현방법

+ 단일 DB인 경우 
  + JDBC의 오토 커밋 모드를 false로 설정
+ 여러개의 DB를 처리할 경우
  + JTA(Java Transaction API)를 이용
    
## 커넥션 풀
### 배경
JSP 페이지를 계속 실행할때마다 DB에 접속 및 연결종료를 하게되면 동시 접속자가 많아지면 처리하기 힘듦.<br>
그래서 커넥션 풀이라는 개념이 생겨남.

### 개념
DB와 연결된 커넥션들을 미리 만들어 두고 요청이 들어오면 커넥션 풀에서 가져와 사용 후 재사용하기위해 다시 반환하는 개념.

+ 특징
    1. 별도의 연결해제를 할 필요가 없으므로 성능상 빠르다.
    2. 커넥션을 재사용함으로 생성되는 컨넥션 수가 항상 일정하게 유지된다.
    
### DBCP2 API를 사용한 커넥션 풀 사용법
**일단 서브릿을 배우고 난 후 다시 한번 보자**

커넥션 풀은 풀의 크기, 커넥션 검사 주기 등을 설정할 수 있는 메서드들을 제공하고 있다.<br>
커넥션 풀에 오래된 커넥션들은 DB와 연결이 끊겨있을 경우가 높으며, 이를 주기적으로 체크해줘야 한다.<br>

+ 검사기준
  + 커넥션이 최소 유휴 시간보다 오래 풀에 있는 경우 확인.
  + 커넥션이 유효한지 여부 확인.


